"use client";

import { useEffect } from "react";
import { motion } from "framer-motion";
import * as styles from "./TermsModal.css";
import Image from "next/image";

interface TermsModalProps {
  isOpen: boolean;
  onClose: () => void;
  type: "terms" | "privacy";
}

export default function TermsModal({ isOpen, onClose, type }: TermsModalProps) {
  useEffect(() => {
    if (isOpen) {
      document.body.style.overflow = "hidden";
    } else {
      document.body.style.overflow = "";
    }

    return () => {
      document.body.style.overflow = "";
    };
  }, [isOpen]);

  if (!isOpen) return null;

  const title = type === "terms" ? "이용약관" : "개인정보처리방침";
  const subtitle = type === "terms" ? "회원가입약관" : "개인정보처리방침";

  return (
    <motion.div
      className={styles.overlay}
      onClick={onClose}
      initial={{ opacity: 0 }}
      animate={{ opacity: 1 }}
      exit={{ opacity: 0 }}
      transition={{ duration: 0.3 }}
    >
      <motion.div
        className={styles.modal}
        initial={{ opacity: 0, y: 20 }}
        animate={{ opacity: 1, y: 0 }}
        exit={{ opacity: 0, y: 20 }}
        transition={{ duration: 0.3 }}
        onClick={(e) => e.stopPropagation()}
      >
        <div className={styles.modalHeader}>
          <div className={styles.modalHeaderContent}>
            <h2 className={styles.title}>{title}</h2>
            <button className={styles.closeButton} onClick={onClose}>
              <Image src="/main/close.svg" alt="close" width={32} height={32} />
            </button>
          </div>
        </div>

        <div className={styles.modalBody}>
          <h3 className={styles.subtitle}>{subtitle}</h3>

          <div className={styles.content}>
            {type === "terms" ? (
              <div className={styles.termsContent}>
                <h4>제1장 총 칙</h4>
                <p>제1조(목적)</p>
                <p>
                  이 약관은 바람부는날에도성형외과의원(이하 "병원"라 한다)가
                  홈페이지(www.banalps.com)에서 제공하는 모든 서비스(이하
                  "서비스"라 한다)의 이용조건 및 절차에 관한 사항을 규정함을
                  목적으로 합니다.
                </p>
                <br />
                <p>제2조(정의)</p>
                <p>이 약관에서 사용하는 용어의 정의는 다음 각 호와 같습니다.</p>
                <p>
                  이용자 : 본 약관에 따라 병원이 제공하는 서비스를 받는 자<br />
                  이용계약 : 서비스 이용과 관련하여 병원와 이용자간에 체결하는
                  계약
                  <br />
                  가입 : 병원이 제공하는 신청서 양식에 해당 정보를 기입하고, 본
                  약관에 동의하여 서비스 이용계약을 완료시키는 행위
                  <br />
                  회원 : 당 사이트에 회원가입에 필요한 개인정보를 제공하여 회원
                  등록을 한 자<br />
                  이용자번호(ID) : 회원 식별과 회원의 서비스 이용을 위하여
                  이용자가 선정하고 병원이 승인하는 영문자와 숫자의 조합
                  <br />
                  패스워드(PASSWORD) : 회원의 정보 보호를 위해 이용자 자신이
                  설정한 영문자와 숫자, 특수문자의 조합
                  <br />
                  이용해지 : 병원 또는 회원이 서비스 이용이후 그 이용계약을
                  종료시키는 의사표시
                </p>
                <br />
                <p>제3조(약관의 효력과 변경)</p>
                <p>
                  회원은 변경된 약관에 동의하지 않을 경우 회원 탈퇴(해지)를
                  요청할 수 있으며, 변경된 약관의 효력 발생일로부터 7일 이후에도
                  거부의사를 표시하지 아니하고 서비스를 계속 사용할 경우 약관의
                  변경 사항에 동의한 것으로 간주됩니다.
                </p>
                <p>
                  이 약관의 서비스 화면에 게시하거나 공지사항 게시판 또는 기타의
                  방법으로 공지함으로써 효력이 발생됩니다.
                </p>
                <p>
                  병원는 필요하다고 인정되는 경우 이 약관의 내용을 변경할 수
                  있으며, 변경된 약관은 서비스 화면에 공지하며, 공지후 7일
                  이후에도 거부의사를 표시하지 아니하고 서비스를 계속 사용할
                  경우 약관의 변경 사항에 동의한 것으로 간주됩니다.
                </p>
                <p>
                  이용자가 변경된 약관에 동의하지 않는 경우 서비스 이용을
                  중단하고 본인의 회원등록을 취소할 수 있으며, 계속 사용하시는
                  경우에는 약관 변경에 동의한 것으로 간주되며 변경된 약관은
                  전항과 같은 방법으로 효력이 발생합니다.
                </p>
                <br />
                <p>제4조(준용규정)</p>
                <p>
                  이 약관에 명시되지 않은 사항은 전기통신기본법, 전기통신사업법
                  및 기타 관련법령의 규정에 따릅니다.
                </p>
                <br />
                <h4>제2장 서비스 이용계약</h4>
                <p>제5조(이용계약의 성립)</p> 이용계약은 이용자의 이용신청에
                대한 병원의 승낙과 이용자의 약관 내용에 대한 동의로 성립됩니다.
                <p>제6조(이용신청)</p> 이용신청은 서비스의 회원정보 화면에서
                이용자가 병원에서 요구하는 가입신청서 양식에 개인의 신상정보를
                기록하여 신청할 수 있습니다. <p>제7조(이용신청의 승낙)</p>{" "}
                회원이 신청서의 모든 사항을 정확히 기재하여 이용신청을 하였을
                경우에 특별한 사정이 없는 한 서비스 이용신청을 승낙합니다. 다음
                각 호에 해당하는 경우에는 이용 승낙을 하지 않을 수 있습니다.
                본인의 실명으로 신청하지 않았을 때 타인의 명의를 사용하여
                신청하였을 때 이용신청의 내용을 허위로 기재한 경우 사회의 안녕
                질서 또는 미풍양속을 저해할 목적으로 신청하였을 때 기타 병원이
                정한 이용신청 요건에 미비 되었을 때{" "}
                <p>제8조(계약사항의 변경)</p> 회원은 이용신청시 기재한 사항이
                변경되었을 경우에는 수정하여야 하며, 수정하지 아니하여 발생하는
                문제의 책임은 회원에게 있습니다.
                <p>제3장 계약당사자의 의무</p> <p>제9조(병원의 의무)</p> 사는
                서비스 제공과 관련해서 알고 있는 회원의 신상 정보를 본인의 승낙
                없이 제3자에게 누설하거나 배포하지 않습니다. 단, 전기통신기본법
                등 법률의 규정에 의해 국가기관의 요구가 있는 경우, 범죄에 대한
                수사상의 목적이 있거나 또는 기타 관계법령에서 정한 절차에 의한
                요청이 있을 경우에는 그러하지 아니합니다.{" "}
                <p>제10조(회원의 의무)</p> 회원은 서비스를 이용할 때 다음 각
                호의 행위를 하지 않아야 합니다. 다른 회원의 ID를 부정하게
                사용하는 행위 서비스에서 얻은 정보를 복제, 출판 또는 제3자에게
                제공하는 행위 병원의 저작권, 제3자의 저작권 등 기타 권리를
                침해하는 행위 공공질서 및 미풍양속에 위반되는 내용을 유포하는
                행위 범죄와 결부된다고 객관적으로 판단되는 행위 기타 관계법령에
                위반되는 행위 회원은 서비스를 이용하여 영업활동을 할 수 없으며,
                영업활동에 이용하여 발생한 결과에 대하여 병원는 책임을 지지
                않습니다. 회원은 서비스의 이용권한, 기타 이용계약상 지위를
                타인에게 양도하거나 증여할 수 없으며, 이를 담보로도 제공할 수
                없습니다.
              </div>
            ) : (
              <div className={styles.privacyContent}>
                <h4>제1장 총 칙</h4>

                <h5>제1조(개인정보의 처리목적)</h5>
                <p>
                  바람부는날에도성형외과의원(이하 "병원")은 다음의 목적을 위하여
                  개인정보를 처리합니다. 처리하고 있는 개인정보는 다음의 목적
                  이외의 용도로는 이용되지 않으며, 이용 목적이 변경되는 경우에는
                  개인정보보호법 제18조에 따라 별도의 동의를 받는 등 필요한
                  조치를 이행할 예정입니다.
                </p>
                <p>
                  온라인 상담 및 예약 서비스 제공
                  <br />
                  회원 가입 및 관리
                  <br />
                  서비스 제공 및 계약 이행
                  <br />
                  고객 문의 및 불만 처리
                </p>

                <h5>제2조(개인정보의 처리 및 보유기간)</h5>
                <p>
                  병원은 법령에 따른 개인정보 보유·이용기간 또는 정보주체로부터
                  개인정보를 수집시에 동의받은 개인정보 보유·이용기간 내에서
                  개인정보를 처리·보유합니다.
                </p>
                <p>
                  온라인 상담 정보 : 상담 완료 후 3년
                  <br />
                  회원 정보 : 회원 탈퇴시까지
                  <br />
                  예약 정보 : 예약 완료 후 1년
                </p>

                <h4>제2장 개인정보의 제3자 제공</h4>

                <h5>제3조(개인정보의 제3자 제공)</h5>
                <p>
                  병원은 정보주체의 개인정보를 제1조(개인정보의 처리목적)에서
                  명시한 범위 내에서만 처리하며, 정보주체의 동의, 법률의 특별한
                  규정 등 개인정보보호법 제17조에 해당하는 경우에만 개인정보를
                  제3자에게 제공합니다.
                </p>
              </div>
            )}
          </div>
        </div>
      </motion.div>
    </motion.div>
  );
}
